function AppLoader(b,d,c){var a=this;this.apps_container=b;this.devs_container=d;this.button=c;this._start_loading=function(){a.button.style.display="none";a.loading_img.style.display="inline"};this._stop_loading=function(){a.loading_img.style.display="none";a.button.style.display="inline"};this.flickr_applications_getRandomApproved_onLoad=function(i,h,g){a._stop_loading();if(i){var e=h.documentElement.getElementsByTagName("apps_fragment")[0];var f=h.documentElement.getElementsByTagName("owners_fragment")[0];a.apps_container.innerHTML=e.getAttribute("body");a.devs_container.innerHTML=f.getAttribute("body")}};this.load_more=function(){a._start_loading();F.API.callMethod("flickr.applications.getRandomApproved",{},a,undefined,undefined,undefined,undefined)};this.init=function(){var e=document.createElement("img");e.src="/images/pulser2.gif";e.style.display="none";e.style.marginTop="5px";a.loading_img=e;Y.D.insertAfter(a.loading_img,a.button);Y.E.on(a.button,"click",a.load_more)};this.init()}function FeaturedLoader(a,c){var b=this;this.container=a;this.prev=c;b._start_thinking=function(){b.title.innerHTML=b.title_text+'<span class="tt-slash"> / </span>'+F.output.get("thinking")};b._stop_thinking=function(){b.title.innerHTML=b.title_text};this.reload=function(d){b._start_thinking();var f={};if(b.prev){f.previous=b.prev}F.API.callMethod("flickr.applications.getFeatured",f,b,undefined,undefined,undefined,undefined);Y.U.Event.stopEvent(d)};this.flickr_applications_getFeatured_onLoad=function(h,g,e){b._stop_thinking();if(h){var d=g.documentElement.getElementsByTagName("fragment")[0];var f=g.documentElement.getElementsByTagName("app")[0];if(f){b.prev=f.getAttribute("id")}b.body.innerHTML=d.getAttribute("body")}};this.init=function(){var d=Y.D.getChildren(b.container);b.title=d[0];b.title_text=b.title.innerHTML;b.button=d[1];b.body=d[2];Y.E.on(b.button,"click",b.reload)};this.init()}var the_developers_scroller=null;var the_app_loader=null;var the_featured_loader=null;var the_app=null;(function(){Y.E.onDOMReady(function(){var b=_ge("app-grid");var d=_ge("app-developers");var c=_ge("more-apps-button");the_app_loader=new AppLoader(b,d,c);var a=_ge("apps-weve-noticed");the_featured_loader=new FeaturedLoader(a,global_prev_app)})})();